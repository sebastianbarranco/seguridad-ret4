# Frigate config for DEVELOPMENT with RTSP simulator
# Uses rtsp-sim container instead of real cameras
# Compatible with Frigate 0.14+

mqtt:
  enabled: false

database:
  path: /config/frigate.db

ffmpeg:
  hwaccel_args: []  # No GPU in dev (use CPU decode)
  output_args:
    record: preset-record-generic-audio-copy

detectors:
  cpu1:
    type: cpu
    num_threads: 2

record:
  enabled: true
  retain:
    days: 3
    mode: all

review:
  alerts:
    labels:
      - person
      - car
  detections:
    labels:
      - dog
      - cat

snapshots:
  enabled: true
  retain:
    default: 7

objects:
  track:
    - person
    - car
    - dog
    - cat

cameras:
  cam_entrada:
    enabled: true
    ffmpeg:
      inputs:
        # OBS RTSP Server (C920 webcam via OBS)
        # Using IPv4 directly to avoid IPv6 routing issues on internal network
        - path: rtsp://192.168.65.254:554/live
          input_args: preset-rtsp-restream
          roles:
            - record
            - detect
    detect:
      enabled: true
      width: 640
      height: 480
      fps: 5

  cam_patio:
    enabled: true
    ffmpeg:
      inputs:
        - path: rtsp://rtsp-sim:8554/cam_patio/stream1
          roles:
            - record
        - path: rtsp://rtsp-sim:8554/cam_patio/stream2
          roles:
            - detect
    detect:
      enabled: true
      width: 640
      height: 360
      fps: 5

logger:
  default: info
